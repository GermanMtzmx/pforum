<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-if.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">

<dom-module id="forum-answers">

  <template>

    <style>
      p{
        color: #424242;
        font-size: 1rem;
        width: 60%;
        border: 1px solid black;
        margin-left: 10px;
        padding: 4px;
        border-radius: 3px;
        font-style: italic;
      }

      h5 {
        color: red;
        margin-left: 10px;
      }

      h4 {
        margin-left: 10px;
        color:#424242;
      }

      #card{
        margin-left: 30%;
      }
    </style>


    <template is="dom-if" if="[[hasAnswers]]">

      <paper-card id="card" heading="Pregunta: [[forum.question]]">
        <div class="card-content">
          <h4>No hay respuestas para esta pregunta</h4>
        </div>
      </paper-card>

    </template>

    <template  is="dom-repeat" items="{{forum.answers}}">
      <p>[[item]]</p>
    </template>
  </template>
  <script>

    (function forumAnswersDefinition(forumAnswers){
      'use strict';

      class ForumAnswers extends Polymer.Element{

          static get is() {return "forum-answers";}

          static get properties(){

              return {
                forum: {
                    type:Object,
                    notify:true,
                    reflectToAttribute:true,
                    observer:'_changedAnswers',
                    value:{}

                  },
                hasAnswers:{
                  type:Boolean,
                  value:false,
                  reflectToAttribute:true,
                }
              }
          }

          _changedAnswers(){
            console.log('answers has changed')
            if(this.forum.hasOwnProperty('answers') && this.forum.answers.length > 0){
              this.hasAnswers  = false;
            } else {
              this.hasAnswers = true;
            }
          }

      }

      customElements.define(ForumAnswers.is, ForumAnswers);

    })(window.forumAnswers);

  </script>
</dom-module>
